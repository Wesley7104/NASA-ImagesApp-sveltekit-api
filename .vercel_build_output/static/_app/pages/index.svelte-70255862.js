import{S as a,i as s,s as e,e as t,t as r,c as i,a as c,g as o,d as l,b as n,F as h,f as u,G as v,k as f,I as p,n as m,J as d,h as g,H as y,K as I,L as b,M as E}from"../chunks/vendor-eed85717.js";import{t as D,i as w,c as P}from"../chunks/stores-e0d27c3f.js";function x(a){let s,e,f;return{c(){s=t("a"),e=r("Play Video"),this.h()},l(a){s=i(a,"A",{class:!0,style:!0,href:!0,target:!0,rel:!0});var t=c(s);e=o(t,"Play Video"),t.forEach(l),this.h()},h(){n(s,"class","button btn svelte-iwj93c"),h(s,"color","black"),h(s,"background-color","darkgrey"),n(s,"href",f=a[3].url),n(s,"target","_blank"),n(s,"rel","noopener noreferrer")},m(a,t){u(a,s,t),v(s,e)},p(a,e){8&e&&f!==(f=a[3].url)&&n(s,"href",f)},d(a){a&&l(s)}}}function V(a){let s,e,h,I,b,E,D,w,P,V,j,k,A,C,S,L,M,T,H,$,G,N,O,_,q,F,J,K,U,z,B,Q,R,W,X,Y,Z,aa,sa,ea,ta,ra,ia,ca,oa,la=a[3].title+"",na=a[3].explanation+"",ha=a[2]&&x(a);return{c(){s=f(),e=t("main"),h=t("div"),I=t("section"),b=t("div"),E=t("p"),D=r("Astronomy Picture of the Day (APOD):"),w=f(),P=t("h1"),V=r(la),j=f(),k=t("div"),A=t("div"),C=t("nav"),S=t("ul"),L=t("li"),M=t("a"),T=r("Choose Date"),H=f(),$=t("li"),G=t("a"),N=r(a[5]),O=f(),_=t("li"),q=t("a"),F=r("Previous Image"),J=f(),K=t("div"),U=t("img"),Q=f(),R=t("div"),W=t("div"),ha&&ha.c(),X=f(),Y=t("div"),Z=t("div"),aa=t("h1"),sa=r("Image Copyright Info: "),ea=r(a[1]),ta=f(),ra=t("h3"),ia=r(na),this.h()},l(t){p('[data-svelte="svelte-1wqsdt5"]',document.head).forEach(l),s=m(t),e=i(t,"MAIN",{});var r=c(e);h=i(r,"DIV",{class:!0});var n=c(h);I=i(n,"SECTION",{class:!0});var u=c(I);b=i(u,"DIV",{class:!0});var v=c(b);E=i(v,"P",{class:!0});var f=c(E);D=o(f,"Astronomy Picture of the Day (APOD):"),f.forEach(l),w=m(v),P=i(v,"H1",{class:!0});var d=c(P);V=o(d,la),d.forEach(l),v.forEach(l),j=m(u),k=i(u,"DIV",{class:!0});var g=c(k);A=i(g,"DIV",{class:!0});var y=c(A);C=i(y,"NAV",{class:!0,role:!0,"aria-label":!0});var x=c(C);S=i(x,"UL",{class:!0});var z=c(S);L=i(z,"LI",{});var B=c(L);M=i(B,"A",{class:!0});var ca=c(M);T=o(ca,"Choose Date"),ca.forEach(l),B.forEach(l),H=m(z),$=i(z,"LI",{});var oa=c($);G=i(oa,"A",{class:!0,"aria-label":!0});var ua=c(G);N=o(ua,a[5]),ua.forEach(l),oa.forEach(l),O=m(z),_=i(z,"LI",{});var va=c(_);q=i(va,"A",{class:!0});var fa=c(q);F=o(fa,"Previous Image"),fa.forEach(l),va.forEach(l),z.forEach(l),x.forEach(l),y.forEach(l),g.forEach(l),J=m(u),K=i(u,"DIV",{class:!0});var pa=c(K);U=i(pa,"IMG",{class:!0,src:!0,alt:!0}),Q=m(pa),R=i(pa,"DIV",{class:!0});var ma=c(R);W=i(ma,"DIV",{class:!0});var da=c(W);ha&&ha.l(da),da.forEach(l),ma.forEach(l),pa.forEach(l),X=m(u),Y=i(u,"DIV",{class:!0});var ga=c(Y);Z=i(ga,"DIV",{class:!0});var ya=c(Z);aa=i(ya,"H1",{class:!0});var Ia=c(aa);sa=o(Ia,"Image Copyright Info: "),ea=o(Ia,a[1]),Ia.forEach(l),ta=m(ya),ra=i(ya,"H3",{class:!0});var ba=c(ra);ia=o(ba,na),ba.forEach(l),ya.forEach(l),ga.forEach(l),u.forEach(l),n.forEach(l),r.forEach(l),this.h()},h(){document.title="Astronomy Picture of the Day",n(E,"class","text myTextStyle has-text-centered svelte-iwj93c"),n(P,"class","title myTextStyle has-text-centered svelte-iwj93c"),n(b,"class",""),n(M,"class","pagination-next btn svelte-iwj93c"),n(G,"class","pagination-link btn is-current svelte-iwj93c"),n(G,"aria-label","Goto page 1"),n(q,"class","pagination-previous btn svelte-iwj93c"),n(S,"class","pagination-list"),n(C,"class","pagination is-dark is-centered"),n(C,"role","navigation"),n(C,"aria-label","pagination"),n(A,"class","column is-four-fifths"),n(k,"class","columns is-centered"),n(U,"class","hero-background svelte-iwj93c"),U.src!==(z=a[0])&&n(U,"src",z),n(U,"alt",B=a[3].title),n(W,"class","container"),n(R,"class","hero-body"),n(K,"class","hero is-fullheight has-background svelte-iwj93c"),n(aa,"class","title text myTextStyle svelte-iwj93c"),n(ra,"class","subtitle text myTextStyle svelte-iwj93c"),n(Z,"class","hero-foot"),n(Y,"class","container"),n(I,"class",""),n(h,"class","container")},m(t,r){u(t,s,r),u(t,e,r),v(e,h),v(h,I),v(I,b),v(b,E),v(E,D),v(b,w),v(b,P),v(P,V),v(I,j),v(I,k),v(k,A),v(A,C),v(C,S),v(S,L),v(L,M),v(M,T),v(S,H),v(S,$),v($,G),v(G,N),v(S,O),v(S,_),v(_,q),v(q,F),v(I,J),v(I,K),v(K,U),v(K,Q),v(K,R),v(R,W),ha&&ha.m(W,null),v(I,X),v(I,Y),v(Y,Z),v(Z,aa),v(aa,sa),v(aa,ea),v(Z,ta),v(Z,ra),v(ra,ia),ca||(oa=d(q,"click",a[4]()),ca=!0)},p(a,[s]){8&s&&la!==(la=a[3].title+"")&&g(V,la),32&s&&g(N,a[5]),1&s&&U.src!==(z=a[0])&&n(U,"src",z),8&s&&B!==(B=a[3].title)&&n(U,"alt",B),a[2]?ha?ha.p(a,s):(ha=x(a),ha.c(),ha.m(W,null)):ha&&(ha.d(1),ha=null),2&s&&g(ea,a[1]),8&s&&na!==(na=a[3].explanation+"")&&g(ia,na)},i:y,o:y,d(a){a&&l(s),a&&l(e),ha&&ha.d(),ca=!1,oa()}}}async function j({fetch:a}){const s=await a("/api");return s.ok?{props:{apiComplete:await s.json()}}:{status:s.status,error:new Error}}function k(a,s,e){let t;I(a,D,(a=>e(8,a))),I(a,w,(a=>e(9,a))),I(a,P,(a=>e(10,t=a)));let{apiComplete:r}=s,{apiImage:i}=s,{isImgPublicDomain:c}=s,{apiVideo:o}=s,l=t;const n=D.subscribe((a=>a));w.subscribe((a=>a)),P.subscribe((a=>e(5,l=a))),b(n),c=r.copyright||"Public Domain Image";{let a=E(new Date,"yyyy-MM-dd");D.set(a),w.set(a),P.set(a)}return"video"==r.media_type?(i=r.thumbnail_url,o=r.url):i=r.url,a.$$set=a=>{"apiComplete"in a&&e(3,r=a.apiComplete),"apiImage"in a&&e(0,i=a.apiImage),"isImgPublicDomain"in a&&e(1,c=a.isImgPublicDomain),"apiVideo"in a&&e(2,o=a.apiVideo)},[i,c,o,r,async function({fetch:a}){const s=await a("./api/previousDay.js");return s.ok?{props:{apiComplete:await s.json()}}:(console.log(r),{status:s.status,error:new Error})},l]}export default class extends a{constructor(a){super(),s(this,a,k,V,e,{apiComplete:3,apiImage:0,isImgPublicDomain:1,apiVideo:2,getPreviousDay:4})}get getPreviousDay(){return this.$$.ctx[4]}}export{j as load};
