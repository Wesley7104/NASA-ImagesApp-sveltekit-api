import{S as Pe,i as we,s as Ce,e as a,t as E,k as C,c as s,a as r,g as k,d as l,n as A,b as t,K as be,f as Ae,I as e,h as X,J as Ee,M as Se,P as Ve,O as Me}from"../chunks/vendor-5d4e44c5.js";import{t as Te,c as ke}from"../chunks/stores-c49bf887.js";function Le(u){let h,n,c,i,f,P,S,g,o=u[1].title+"",H,Y,V,M,p,v,x,D,Z,U,$,F,I,N=u[1].date+"",B,ee,q,T,te,ae,L,_,J,K,se,y,O,G=u[1].explanation+"",z,le,w,re,Q;return{c(){h=a("main"),n=a("div"),c=a("section"),i=a("div"),f=a("p"),P=E("Astronomy Picture of the Day (APOD):"),S=C(),g=a("h1"),H=E(o),Y=C(),V=a("div"),M=a("div"),p=a("nav"),v=a("ul"),x=a("li"),D=a("a"),Z=E("Previous Image"),$=C(),F=a("li"),I=a("a"),B=E(N),ee=C(),q=a("li"),T=a("p"),te=E("Choose Date:"),ae=C(),L=a("div"),_=a("img"),se=C(),y=a("div"),O=a("h2"),z=E(G),le=C(),w=a("p"),re=E("Image Copyright Info: "),Q=E(u[0]),this.h()},l(m){h=s(m,"MAIN",{});var d=r(h);n=s(d,"DIV",{class:!0});var oe=r(n);c=s(oe,"SECTION",{class:!0});var b=r(c);i=s(b,"DIV",{class:!0});var R=r(i);f=s(R,"P",{class:!0});var ce=r(f);P=k(ce,"Astronomy Picture of the Day (APOD):"),ce.forEach(l),S=A(R),g=s(R,"H1",{class:!0});var ue=r(g);H=k(ue,o),ue.forEach(l),R.forEach(l),Y=A(b),V=s(b,"DIV",{class:!0});var he=r(V);M=s(he,"DIV",{class:!0});var fe=r(M);p=s(fe,"NAV",{class:!0,role:!0,"aria-label":!0});var me=r(p);v=s(me,"UL",{class:!0});var j=r(v);x=s(j,"LI",{});var de=r(x);D=s(de,"A",{href:!0,class:!0});var ve=r(D);Z=k(ve,"Previous Image"),ve.forEach(l),de.forEach(l),$=A(j),F=s(j,"LI",{});var _e=r(F);I=s(_e,"A",{href:!0,class:!0,"aria-label":!0});var ge=r(I);B=k(ge,N),ge.forEach(l),_e.forEach(l),ee=A(j),q=s(j,"LI",{});var pe=r(q);T=s(pe,"P",{class:!0});var De=r(T);te=k(De,"Choose Date:"),De.forEach(l),pe.forEach(l),j.forEach(l),me.forEach(l),fe.forEach(l),he.forEach(l),ae=A(b),L=s(b,"DIV",{class:!0});var Ie=r(L);_=s(Ie,"IMG",{src:!0,alt:!0}),Ie.forEach(l),se=A(b),y=s(b,"DIV",{class:!0});var W=r(y);O=s(W,"H2",{class:!0});var ye=r(O);z=k(ye,G),ye.forEach(l),le=A(W),w=s(W,"P",{class:!0});var ie=r(w);re=k(ie,"Image Copyright Info: "),Q=k(ie,u[0]),ie.forEach(l),W.forEach(l),b.forEach(l),oe.forEach(l),d.forEach(l),this.h()},h(){t(f,"class","text myTextStyle has-text-centered svelte-ewifk0"),t(g,"class","title myTextStyle has-text-centered svelte-ewifk0"),t(i,"class","hero-head"),t(D,"href",U=u[1].date),t(D,"class","pagination-previous btn svelte-ewifk0"),t(I,"href",ne()),t(I,"class","pagination-link btn is-current svelte-ewifk0"),t(I,"aria-label","Goto page 1"),t(T,"class","pagination-link btn is-current svelte-ewifk0"),t(v,"class","pagination-list"),t(p,"class","pagination is-dark is-centered"),t(p,"role","navigation"),t(p,"aria-label","pagination"),t(M,"class","column is-four-fifths"),t(V,"class","columns is-centered"),be(_.src,J=u[1].url)||t(_,"src",J),t(_,"alt",K=u[1].title),t(L,"class","hero-body "),t(O,"class","text myTextStyle svelte-ewifk0"),t(w,"class","text myTextStyle svelte-ewifk0"),t(y,"class","hero-foot"),t(c,"class","hero is-fullheight has-background"),t(n,"class","container")},m(m,d){Ae(m,h,d),e(h,n),e(n,c),e(c,i),e(i,f),e(f,P),e(i,S),e(i,g),e(g,H),e(c,Y),e(c,V),e(V,M),e(M,p),e(p,v),e(v,x),e(x,D),e(D,Z),e(v,$),e(v,F),e(F,I),e(I,B),e(v,ee),e(v,q),e(q,T),e(T,te),e(c,ae),e(c,L),e(L,_),e(c,se),e(c,y),e(y,O),e(O,z),e(y,le),e(y,w),e(w,re),e(w,Q)},p(m,[d]){d&2&&o!==(o=m[1].title+"")&&X(H,o),d&2&&U!==(U=m[1].date)&&t(D,"href",U),d&2&&N!==(N=m[1].date+"")&&X(B,N),d&2&&!be(_.src,J=m[1].url)&&t(_,"src",J),d&2&&K!==(K=m[1].title)&&t(_,"alt",K),d&2&&G!==(G=m[1].explanation+"")&&X(z,G),d&1&&X(Q,m[0])},i:Ee,o:Ee,d(m){m&&l(h)}}}async function Fe({fetch:u,page:h}){const n=await u("/api/${date}");return n.ok?{props:{apiComplete:await n.json()}}:{status:n.status,error:new Error}}function ne(){return nothing}function Oe(u,h,n){let c;Se(u,ke,o=>n(6,c=o));let{apiComplete:i}=h,{apiImage:f}=h,{isImgPublicDomain:P}=h,{chooseDate:S=Te}=h;i.url?f=i.url:f="no image available... Sorry something is broken... :(",P=i.copyright||"Public Domain Image",i.media_type==="video"?(f=i.thumbnail_url,apiVideo=i.url):f=i.url;function g(){return current=Ve(new Date(c),0),current=Me(new Date(current),"yyyy-MM-dd"),ke.set(current),{current}}return u.$$set=o=>{"apiComplete"in o&&n(1,i=o.apiComplete),"apiImage"in o&&n(3,f=o.apiImage),"isImgPublicDomain"in o&&n(0,P=o.isImgPublicDomain),"chooseDate"in o&&n(4,S=o.chooseDate)},[P,i,ne,f,S,g]}class Ne extends Pe{constructor(h){super();we(this,h,Oe,Le,Ce,{apiComplete:1,apiImage:3,isImgPublicDomain:0,chooseDate:4,decrementDate:5,dummyFunction:2})}get decrementDate(){return this.$$.ctx[5]}get dummyFunction(){return ne}}export{Ne as default,Fe as load};
