import{S as ke,i as Pe,s as we,e as a,t as E,k as C,c as s,a as r,g as k,d as l,n as A,b as t,K as ye,f as Ce,I as e,h as X,J as be,M as Ae,P as Se,O as Ve}from"../chunks/vendor-5d4e44c5.js";import{t as Me,c as Ee}from"../chunks/stores-c49bf887.js";function Te(c){let h,o,u,i,f,P,S,g,n=c[1].title+"",U,Y,V,M,p,m,N,D,Z,B,$,q,I,x=c[1].date+"",J,ee,G,T,te,ae,L,_,K,z,se,y,O,H=c[1].explanation+"",F,le,w,re,Q;return{c(){h=a("main"),o=a("div"),u=a("section"),i=a("div"),f=a("p"),P=E("Astronomy Picture of the Day (APOD):"),S=C(),g=a("h1"),U=E(n),Y=C(),V=a("div"),M=a("div"),p=a("nav"),m=a("ul"),N=a("li"),D=a("a"),Z=E("Previous Image"),$=C(),q=a("li"),I=a("a"),J=E(x),ee=C(),G=a("li"),T=a("p"),te=E("Choose Date"),ae=C(),L=a("div"),_=a("img"),se=C(),y=a("div"),O=a("h2"),F=E(H),le=C(),w=a("p"),re=E("Image Copyright Info: "),Q=E(c[0]),this.h()},l(d){h=s(d,"MAIN",{});var v=r(h);o=s(v,"DIV",{class:!0});var oe=r(o);u=s(oe,"SECTION",{class:!0});var b=r(u);i=s(b,"DIV",{class:!0});var R=r(i);f=s(R,"P",{class:!0});var ne=r(f);P=k(ne,"Astronomy Picture of the Day (APOD):"),ne.forEach(l),S=A(R),g=s(R,"H1",{class:!0});var ce=r(g);U=k(ce,n),ce.forEach(l),R.forEach(l),Y=A(b),V=s(b,"DIV",{class:!0});var ue=r(V);M=s(ue,"DIV",{class:!0});var he=r(M);p=s(he,"NAV",{class:!0,role:!0,"aria-label":!0});var fe=r(p);m=s(fe,"UL",{class:!0});var j=r(m);N=s(j,"LI",{});var de=r(N);D=s(de,"A",{href:!0,class:!0});var ve=r(D);Z=k(ve,"Previous Image"),ve.forEach(l),de.forEach(l),$=A(j),q=s(j,"LI",{});var me=r(q);I=s(me,"A",{href:!0,class:!0,"aria-label":!0});var _e=r(I);J=k(_e,x),_e.forEach(l),me.forEach(l),ee=A(j),G=s(j,"LI",{});var ge=r(G);T=s(ge,"P",{class:!0});var pe=r(T);te=k(pe,"Choose Date"),pe.forEach(l),ge.forEach(l),j.forEach(l),fe.forEach(l),he.forEach(l),ue.forEach(l),ae=A(b),L=s(b,"DIV",{class:!0});var De=r(L);_=s(De,"IMG",{src:!0,alt:!0}),De.forEach(l),se=A(b),y=s(b,"DIV",{class:!0});var W=r(y);O=s(W,"H2",{class:!0});var Ie=r(O);F=k(Ie,H),Ie.forEach(l),le=A(W),w=s(W,"P",{class:!0});var ie=r(w);re=k(ie,"Image Copyright Info: "),Q=k(ie,c[0]),ie.forEach(l),W.forEach(l),b.forEach(l),oe.forEach(l),v.forEach(l),this.h()},h(){t(f,"class","text myTextStyle has-text-centered svelte-ewifk0"),t(g,"class","title myTextStyle has-text-centered svelte-ewifk0"),t(i,"class","hero-head"),t(D,"href",B=c[1].date),t(D,"class","pagination-previous btn svelte-ewifk0"),t(I,"href",c[2]()),t(I,"class","pagination-link btn is-current svelte-ewifk0"),t(I,"aria-label","Goto page 1"),t(T,"class","pagination-link btn is-current svelte-ewifk0"),t(m,"class","pagination-list"),t(p,"class","pagination is-dark is-centered"),t(p,"role","navigation"),t(p,"aria-label","pagination"),t(M,"class","column is-four-fifths"),t(V,"class","columns is-centered"),ye(_.src,K=c[1].url)||t(_,"src",K),t(_,"alt",z=c[1].title),t(L,"class","hero-body "),t(O,"class","text myTextStyle svelte-ewifk0"),t(w,"class","text myTextStyle svelte-ewifk0"),t(y,"class","hero-foot"),t(u,"class","hero is-fullheight has-background"),t(o,"class","container")},m(d,v){Ce(d,h,v),e(h,o),e(o,u),e(u,i),e(i,f),e(f,P),e(i,S),e(i,g),e(g,U),e(u,Y),e(u,V),e(V,M),e(M,p),e(p,m),e(m,N),e(N,D),e(D,Z),e(m,$),e(m,q),e(q,I),e(I,J),e(m,ee),e(m,G),e(G,T),e(T,te),e(u,ae),e(u,L),e(L,_),e(u,se),e(u,y),e(y,O),e(O,F),e(y,le),e(y,w),e(w,re),e(w,Q)},p(d,[v]){v&2&&n!==(n=d[1].title+"")&&X(U,n),v&2&&B!==(B=d[1].date)&&t(D,"href",B),v&2&&x!==(x=d[1].date+"")&&X(J,x),v&2&&!ye(_.src,K=d[1].url)&&t(_,"src",K),v&2&&z!==(z=d[1].title)&&t(_,"alt",z),v&2&&H!==(H=d[1].explanation+"")&&X(F,H),v&1&&X(Q,d[0])},i:be,o:be,d(d){d&&l(h)}}}async function Ne({fetch:c,page:h}){const o=await c("/api/${date}");return o.ok?{props:{apiComplete:await o.json()}}:{status:o.status,error:new Error}}function Le(c,h,o){let u;Ae(c,Ee,n=>o(5,u=n));let{apiComplete:i}=h,{apiImage:f}=h,{isImgPublicDomain:P}=h,{chooseDate:S=Me}=h;i.url?f=i.url:f="no image available... Sorry something is broken... :(",P=i.copyright||"Public Domain Image",i.media_type==="video"?(f=i.thumbnail_url,apiVideo=i.url):f=i.url;function g(){return current=Se(new Date(u),0),current=Ve(new Date(current),"yyyy-MM-dd"),Ee.set(current),{current}}return c.$$set=n=>{"apiComplete"in n&&o(1,i=n.apiComplete),"apiImage"in n&&o(3,f=n.apiImage),"isImgPublicDomain"in n&&o(0,P=n.isImgPublicDomain),"chooseDate"in n&&o(4,S=n.chooseDate)},[P,i,g,f,S]}class qe extends ke{constructor(h){super();Pe(this,h,Le,Te,we,{apiComplete:1,apiImage:3,isImgPublicDomain:0,chooseDate:4,decrementDate:2})}get decrementDate(){return this.$$.ctx[2]}}export{qe as default,Ne as load};
